# æ™ºé—®æ•°ç ”AIæ™ºèƒ½é—®å·è°ƒç ”ç³»ç»Ÿ - Verceléƒ¨ç½²æ€»ç»“

## ğŸ¯ éƒ¨ç½²æ¶æ„

é¡¹ç›®é‡‡ç”¨**å‰åç«¯åˆ†ç¦»**çš„ç°ä»£Verceléƒ¨ç½²æ¶æ„ï¼š

```
GitHub Repository: baoqj/ai-survey
â”œâ”€â”€ å‰ç«¯é¡¹ç›® (frontend/) â†’ Vercel Project 1
â””â”€â”€ åç«¯é¡¹ç›® (backend/)  â†’ Vercel Project 2
```

## ğŸ“‹ éƒ¨ç½²æ­¥éª¤

### 1. åç«¯APIéƒ¨ç½²

**é¡¹ç›®é…ç½®**:
- **ä»“åº“**: `baoqj/ai-survey`
- **æ ¹ç›®å½•**: `backend`
- **é¡¹ç›®å**: `ai-survey-backend`
- **æ¡†æ¶**: Other (Serverless Functions)

**å…³é”®æ–‡ä»¶**:
- `backend/api/health.ts` - å¥åº·æ£€æŸ¥API
- `backend/api/users.ts` - ç”¨æˆ·ç®¡ç†API
- `backend/api/surveys.ts` - é—®å·ç®¡ç†API
- `backend/api/ai.ts` - AIæœåŠ¡API
- `backend/vercel.json` - åç«¯é…ç½®
- `backend/package.json` - ä¾èµ–å’ŒNodeç‰ˆæœ¬

### 2. å‰ç«¯åº”ç”¨éƒ¨ç½²

**é¡¹ç›®é…ç½®**:
- **ä»“åº“**: `baoqj/ai-survey`
- **æ ¹ç›®å½•**: `frontend`
- **é¡¹ç›®å**: `ai-survey-frontend`
- **æ¡†æ¶**: Next.js (è‡ªåŠ¨æ£€æµ‹)

**å…³é”®æ–‡ä»¶**:
- `frontend/vercel.json` - å‰ç«¯é…ç½®å’ŒAPIé‡å†™è§„åˆ™
- `frontend/package.json` - å‰ç«¯ä¾èµ–

## ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹

### åç«¯ (Serverless Functions)
- **è¿è¡Œæ—¶**: `@vercel/node@3.0.7`
- **Nodeç‰ˆæœ¬**: 18.x (å›ºå®š)
- **å‡½æ•°æ ¼å¼**: Vercel Serverless Functions
- **CORS**: è‡ªåŠ¨é…ç½®è·¨åŸŸæ”¯æŒ
- **APIè·¯å¾„**: `/api/*`

### å‰ç«¯ (Next.js)
- **æ¡†æ¶**: Next.js 14 + TypeScript
- **APIä»£ç†**: é€šè¿‡rewriteè§„åˆ™ä»£ç†åˆ°åç«¯
- **å®‰å…¨å¤´**: å®Œæ•´çš„å®‰å…¨å¤´é…ç½®
- **è‡ªåŠ¨æ„å»º**: Vercelè‡ªåŠ¨æ£€æµ‹å’Œæ„å»º

## ğŸŒ APIè·¯ç”±æ˜ å°„

å‰ç«¯é€šè¿‡rewriteè§„åˆ™å°†APIè¯·æ±‚ä»£ç†åˆ°åç«¯ï¼š

```
å‰ç«¯è¯·æ±‚: https://frontend-domain.vercel.app/api/health
å®é™…è½¬å‘: https://backend-domain.vercel.app/api/health
```

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### åç«¯éƒ¨ç½²
- [ ] åˆ›å»ºåç«¯Vercelé¡¹ç›®
- [ ] è®¾ç½®æ ¹ç›®å½•ä¸º `backend`
- [ ] ç¡®è®¤Nodeç‰ˆæœ¬ä¸º18.x
- [ ] éƒ¨ç½²æˆåŠŸå¹¶è®°å½•åŸŸå
- [ ] æµ‹è¯•APIç«¯ç‚¹: `/api/health`

### å‰ç«¯éƒ¨ç½²
- [ ] åˆ›å»ºå‰ç«¯Vercelé¡¹ç›®
- [ ] è®¾ç½®æ ¹ç›®å½•ä¸º `frontend`
- [ ] æ›´æ–° `frontend/vercel.json` ä¸­çš„åç«¯åŸŸå
- [ ] éƒ¨ç½²æˆåŠŸ
- [ ] æµ‹è¯•å‰ç«¯è®¿é—®å’ŒAPIä»£ç†

## ğŸ” æµ‹è¯•ç«¯ç‚¹

### åç«¯APIæµ‹è¯•
```bash
# å¥åº·æ£€æŸ¥
curl https://your-backend-domain.vercel.app/api/health

# ç”¨æˆ·API
curl https://your-backend-domain.vercel.app/api/users

# é—®å·API
curl https://your-backend-domain.vercel.app/api/surveys

# AIæœåŠ¡API
curl -X POST https://your-backend-domain.vercel.app/api/ai \
  -H "Content-Type: application/json" \
  -d '{"action":"generate_survey","data":{"topic":"ç”¨æˆ·ä½“éªŒ"}}'
```

### å‰ç«¯APIä»£ç†æµ‹è¯•
```bash
# é€šè¿‡å‰ç«¯ä»£ç†è®¿é—®åç«¯API
curl https://your-frontend-domain.vercel.app/api/health
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

- **Serverlesså†·å¯åŠ¨**: åç«¯å‡½æ•°æŒ‰éœ€å¯åŠ¨
- **CDNç¼“å­˜**: å‰ç«¯é™æ€èµ„æºå…¨çƒCDN
- **APIä»£ç†**: é¿å…è·¨åŸŸé—®é¢˜ï¼Œæå‡æ€§èƒ½
- **è‡ªåŠ¨æ‰©å±•**: æ ¹æ®æµé‡è‡ªåŠ¨æ‰©å±•

## ğŸ”’ å®‰å…¨é…ç½®

- **CORS**: åç«¯é…ç½®è·¨åŸŸè®¿é—®
- **å®‰å…¨å¤´**: å‰ç«¯é…ç½®å®Œæ•´å®‰å…¨å¤´
- **HTTPS**: å…¨ç«™HTTPSåŠ å¯†
- **ç¯å¢ƒå˜é‡**: æ•æ„Ÿä¿¡æ¯é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

- **Vercel Analytics**: è‡ªåŠ¨æ€§èƒ½ç›‘æ§
- **å‡½æ•°æ—¥å¿—**: åç«¯å‡½æ•°æ‰§è¡Œæ—¥å¿—
- **æ„å»ºæ—¥å¿—**: å‰ç«¯æ„å»ºè¿‡ç¨‹æ—¥å¿—
- **é”™è¯¯è¿½è¸ª**: å®æ—¶é”™è¯¯ç›‘æ§

## ğŸš€ ä¸‹ä¸€æ­¥

1. **ç¯å¢ƒå˜é‡é…ç½®**: é…ç½®æ•°æ®åº“ã€AIæœåŠ¡ç­‰ç¯å¢ƒå˜é‡
2. **åŸŸåç»‘å®š**: ç»‘å®šè‡ªå®šä¹‰åŸŸå
3. **SSLè¯ä¹¦**: é…ç½®SSLè¯ä¹¦ï¼ˆVercelè‡ªåŠ¨æä¾›ï¼‰
4. **æ€§èƒ½ä¼˜åŒ–**: æ ¹æ®ç›‘æ§æ•°æ®ä¼˜åŒ–æ€§èƒ½
5. **åŠŸèƒ½æ‰©å±•**: ç»§ç»­å¼€å‘å’Œéƒ¨ç½²æ–°åŠŸèƒ½

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°éƒ¨ç½²é—®é¢˜ï¼š
1. æ£€æŸ¥Verceléƒ¨ç½²æ—¥å¿—
2. ç¡®è®¤æ ¹ç›®å½•è®¾ç½®æ­£ç¡®
3. éªŒè¯Nodeç‰ˆæœ¬é…ç½®
4. æµ‹è¯•APIç«¯ç‚¹è¿é€šæ€§

---

**éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å°†æ‹¥æœ‰ä¸€ä¸ªå®Œå…¨ç°ä»£åŒ–çš„ã€å¯æ‰©å±•çš„AIæ™ºèƒ½é—®å·è°ƒç ”ç³»ç»Ÿï¼**
